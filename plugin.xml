<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.6"?>
<plugin>

   <extension point="org.eclipse.ui.commands">
      <command
            name="Generate GWT Proxy"
            id="GwtProxyGen.commands.gen"
            defaultHandler="com.github.generategwtrfproxy.commands.GenProxy"
      >
      </command>
   </extension>
   
  <extension point="org.eclipse.ui.menus">
        <menuContribution
              locationURI="popup:org.eclipse.jdt.ui.PackageExplorer">
           <command
                 commandId="GwtProxyGen.commands.gen"
                 label="Generate a proxy"
                 style="push">
            <visibleWhen>
             <with variable="activeMenuSelection">
              <iterate
                   ifEmpty="false" operator="and">
               <adapt type="org.eclipse.core.resources.IResource">
                 <test property="org.eclipse.core.resources.name" value="*.java" />
               </adapt>
              </iterate>
             </with>
           </visibleWhen>
         </command>
        </menuContribution>
  </extension>

</plugin>
